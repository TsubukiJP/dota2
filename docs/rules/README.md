# 翻訳ルール

## 目的
- Dota 2 日本語化における **用語の一貫性**・**UI崩れ防止**・**世界観の維持** を両立する。
- 人間レビューと自動化ワークフロー（☆）の **共通仕様** とする。

---

## 基本方針
- 文体：**常体（〜する）**。UI短文は体言止め可（例：「射程: 600」）。
- **固有名詞は英語固定**（ヒーロー/アイテム/スキル/Lore固有名、略称を含む）。
- **glossary.csv を最優先**（「訳さない」「固定訳」両方の指示源）。
- **プレースホルダー/トークン/タグは絶対に改変しない**（後述）。
- UI文字量は英語比 **×1.4 を警戒域**。超過は要短縮。

---

## 固有名詞ポリシー
**既定：英語固定（keep_en）**
- 対象カテゴリ：`hero`, `item`, `ability`, `lore_proper`, `aliases`
- 例：*Crystal Maiden, Juggernaut, Black King Bar, Blade Fury, Yurnero, Rylai, Isle of Masks, BKB*
- 例外的に日本語化したい場合のみ、**glossary.csv に `policy=translate`** を追加して上書き。

---

## glossary.csv について
**列**: `en, ja, policy, category, match, notes`

- **policy**:
  - `keep_en` … **英語固定**（訳さない）。`ja` 空でOK
  - `translate` … **訳語固定**（必ず `ja` に置換）
- **match**（照合方法）:
  - `exact` … 完全一致（大小区別）
  - `word` … 単語境界一致（大小無視）
  - `ci` … 大小無視の部分一致
- **適用優先**: `exact` > `word` > `ci`、かつ **最長一致優先**。同点は **行順** 優先。
- **カテゴリ既定**:
  - `hero/item/ability/lore_proper/aliases` → 既定は **keep_en**（csv未記載でも訳さない）
  - `mechanic/stat/status/ui_text` → 既定は **translate**（csvの訳語を優先）

---

## 禁止事項（MUST NOT）
- **プレースホルダー/変数を改変しない**：
  - 例：`%s`, `%d`, `%1$s`, `%MODIFIER_*%%%`, `%var%`, `$health`, `+$all`
- **トークン/マークアップを改変しない**：
  - 例：`{s:foo}`, `{i:bar}`、`<h1>…</h1>`, `<br>`, `<font …>…</font>`
- **Key/Value形式の Key を変更しない**（Valueのみ翻訳）
- **スペース・改行・エスケープ** の意図しない変更（例：`\"`）

---

## 表記・記号・数値
- **半角**: 数字/英字/コロン/カンマ/ピリオド（例：`クールダウン: 20秒`）
- **単位**: `秒`, `分`, `ダメージ`, `射程`, `範囲` 等は **日本語**。`HP/MP/Str/Agi/Int` は **英略記固定**
- **スペース**: 日本語の数値＋単位は **スペースなし**（`20 秒`× → `20秒`○）
- **大文字小文字**: 固有名詞は **公式表記** に倣う

---

## SearchAlias の扱い（非翻訳）
- `DOTA_SearchAlias_*` の値は **英語小文字＋セミコロン区切り** を維持（例：`qb;quelling blade`）
- アポストロフィはエスケープを維持（例：`\\'`）

---

## レビュー観点（チェックリスト）
- [ ] **glossary適用**（固定訳/英語固定）が正しいか
- [ ] **固有名詞が日本語化されていないか**
- [ ] **プレースホルダー/トークン/タグ** の改変なし
- [ ] **UI長さ**（×1.4超過）の有無・短縮可能性
- [ ] **記号・数値** ルール順守（半角/単位/スペース）
- [ ] 世界観・語調の統一

---